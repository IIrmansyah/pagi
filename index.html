<script>
  // FUNGSI MENDIRIKAN KE WHATSAPP DIHILANGKAN TOTAL
  async function menuju(){
    Tombol.style="opacity:1;transform: scale(1);";
    // Mengganti teks tombol menjadi "Selesai" atau sejenisnya
    document.getElementById("tmbl").style.display = "none";
    document.getElementById("tmbl2").style.display = "inline";
    document.getElementById("tmbl2").innerHTML = "Selesai";
    await swals.fire('Terima kasih!', 'Pesannya sudah selesai ya.', 'success');
    Tombol.onclick = () => {swals.fire('Done!', 'Semoga suka, ya!', 'success');}; // Tambahkan aksi klik "Selesai"
  }
  
  const swalst = Swal.mixin({timer: 2777, allowOutsideClick: false, showConfirmButton: false, timerProgressBar: true, imageHeight: 100,}); 
  const swals = Swal.mixin({allowOutsideClick: false, cancelButtonColor: '#FF0040', imageWidth: 100, imageHeight: 100,}); 
  
  // FIX ERROR: Definisikan semua elemen HTML yang digunakan sebagai variabel
  const body = document.querySelector("body");
  const suratin = document.getElementById('suratin');
  const ket = document.getElementById('ket');
  const Content = document.getElementById('Content');
  const bq = document.getElementById('bq');
  const Tombol = document.getElementById('Tombol');
  const bodyblur = document.getElementById('bodyblur');
  const wallpaper = document.getElementById('wallpaper');
  
  function createHeart() {const heart = document.createElement("div"); heart.className = "fas fa-heart"; heart.style.left = (Math.random() * 90)+"vw"; heart.style.animationDuration = (Math.random()*3)+2+"s"; body.appendChild(heart);} setInterval(function name(params) {var heartArr = document.querySelectorAll(".fa-heart"); if (heartArr.length > 100) {heartArr[0].remove()}},100);
  
  function mulaikonten(){
    fungsi=1;
    suratin.style="display:none";
    ket.style="display:none";
    Content.style = "opacity:1;margin-top:4vh;";
    bodyblur.style="opacity:.4;animation:none";
    wallpaper.style="transform: scale(1);";
    bq.style = "position:relative;opacity:1;visibility:visible;margin-top:0;";

                          audio.play().catch(error => { console.log('Audio Play Failed:', error); }); // FIX LAGU: Play audio dengan error handling
                          ftganti=0;ftmuncul();
                          setTimeout(fmulaiketik1,300);setTimeout(mulaiketik1,300);
                          setTimeout(fmulaiketik1b,2000);setTimeout(mulaiketik1b,2000);
                          setTimeout(fmulaiketik2,3955);setTimeout(mulaiketik2,3955);
                         }
  
   // FUNGSI JAWABAN DIHILANGKAN TOTAL
   async function jawab(){
           await swals.fire('Terima kasih!', 'Pesan sudah selesai.', 'success');
           menuju(); // Langsung pindah ke tahap akhir (menuju)
       }
</script>

